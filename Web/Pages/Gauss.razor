@page "/gauss"

<h1>Gaussian elimination algorithm</h1>

<br>
<form id="input_matrix" role="form">
    @for (int i = 0; i < mat_size; ++i)
    {
        var li = i;
        @for (int j = 0; j < mat_size; ++j)
        {
            var lj = j;
            <input type="number" size="5" minlength="1" @bind="fields[li * (mat_size + 1) + lj]">
        }
        <span> = </span>
        <input type="number" size="5" minlength="1" @bind="fields[li * (mat_size + 1) + mat_size]">
        <br>
    }
</form>
<br>
    <button class="button" type="button"><span class="oi oi-chevron-right" aria-hidden="true"></span></button>
    <button class="button" type="button"><span class="oi oi-chevron-bottom" aria-hidden="true"></span></button>

Current value: @fields[0]

@code {
    private Matrix mat = new Matrix(2, 2);

    private int mat_size = 2;
    private float[] fields = new float[6];

    private IEnumerable<Row> column_range()
    {
        for (int i = 0; i < mat.rows; ++i)
            yield return mat.row(i);
    }

    @* private IEnumerable<int[]> solve()
    {
        Matrix m = Matrix.reorder(mat);

        for (int i = 1; i < m.rows - 1; ++i) // Go slowly down
        {
            //m = new Matrix(mat.rows, mat.columns);

            //for (int ii = 0; ii < i; ++ii) // Copy over processed values
                //m.row(ii, mat.row(ii));

            for (int ii = i; ii < m.rows - 1; ++ii)
            {
                float multipler = m.get(i - 1, i) / m.get(i - 1, i - 1);

                var now = m.row(i);
                now.multiply(multipler).subtract(m.row(i - 1));
            }
        }

        return null;
    } *@
}
